<div class="session mat-intranet-900">
    <div class="session-content">
        <div class="session-wrapper">

            <app-swap-language></app-swap-language>

            <mat-card>
                <mat-card-content>
                    <form [formGroup]="form" (ngSubmit)="onSubmit()" autocomplete="off">
                        <div class="text-xs-center pb-1">
                            <img src="assets/images/logo-colored.svg" class="app-sign-in-logo" />
                            <p class="mat-text-muted" *ngIf="user">
                                {{ 'INSERT_NEW_PASSWORD_FOR' | translate }}
                                <b>{{user.email}}</b>
                            </p>
                        </div>
                        <div fxLayout="column" fxLayoutAlign="space-around">
                            <div class="pb-1">
                                <mat-form-field style="width: 100%">
                                    <input type="password" matInput placeholder="{{ 'PASSWORD' | translate }}" [formControl]="form.get('password')">
                                </mat-form-field>
                                <small *ngIf="form.get('password').hasError('required') && form.get('password').touched" class="mat-text-warn">
                                    {{ 'PASSWORD_REQUIRED' | translate }}
                                </small>
                            </div>

                            <div class="pb-1">
                                <mat-form-field style="width: 100%">
                                    <input type="password" matInput placeholder="{{ 'REPEAT_PASSWORD' | translate }}" [formControl]="form.get('password2')">
                                </mat-form-field>
                                <small *ngIf="form.get('password2').hasError('required') && form.get('password2').touched" class="mat-text-warn">
                                    {{ 'FIELD_REQUIRED' | translate }}
                                </small>
                                <div>
                                    <small *ngIf="form.get('password2').hasError('equalTo') && form.get('password2').touched" class="mat-text-warn">
                                        {{ 'PASSWORD_DOESNT_MATCH' | translate }}
                                    </small>
                                </div>
                            </div>

                            <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">
                                {{ 'RESET_PASSWORD' | translate }}
                            </button>
                        </div>
                        <div class="pt-1 pb-1 text-xs-center">
                            <a [routerLink]="['/session/signin']">
                                {{ 'SIGN_IN' | translate }}
                            </a>
                        </div>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>